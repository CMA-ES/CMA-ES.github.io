<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>cma.constraints_handler.AugmentedLagrangian : API documentation</title>

    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <link type="text/css" href="bootstrap.min.css" rel="stylesheet" />
    <link type="text/css" href="apidocs.css" rel="stylesheet" />
  </head>
  <body>

    <nav class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a href="index.html" class="navbar-brand">
            cma API Documentation
          </a>
        </div>
      </div>
    </nav>

    <div id="showPrivate">
      <button onclick="togglePrivate()" class="btn btn-link">Toggle Private API</button>
    </div>

    <div class="container">

      <div class="page-header">
        <h1 class="class"><code>cma.constraints_handler.AugmentedLagrangian(<span title="object">object</span>)</code> <small>class documentation</small></h1>

        <span id="partOf">
          Part of <code><a href="cma.html" data-type="Package" class="code">cma</a>.<a href="cma.constraints_handler.html" data-type="Module" class="code">constraints_handler</a></code>
          
          <a href="classIndex.html#cma.constraints_handler.AugmentedLagrangian">(View In Hierarchy)</a>
        </span>
      </div>

      <div class="extrasDocstring">
        
      </div>

      <div class="moduleDocstring">
        <div><p>Augmented Lagrangian with adaptation of the coefficients</p>
<p>for minimization, implemented after Atamna et al FOGA 2017,
Algorithm 1 and Sect 8.2, <a href="https://hal.inria.fr/hal-01455379/document" class="rst-reference external" target="_top">https://hal.inria.fr/hal-01455379/document</a>.</p>
<p><a href="cma.constraints_handler.ConstrainedFitnessAL.html"><code>cma.ConstrainedFitnessAL</code></a> provides a (more) user-friendly interface to
the <a href="cma.constraints_handler.AugmentedLagrangian.html"><code>AugmentedLagrangian</code></a> class.</p>
<p>Input <a href="cma.constraints_handler.CountLastSameChanges.html#dimension"><code>dimension</code></a> is the search space dimension, boolean <code>equality</code>
may be an iterable of length of number of constraints indicating the
type for each constraint.</p>
<p>Below, the objective function value is denoted as <tt class="rst-docutils literal">f = f(x)</tt>, the
constraints values as <tt class="rst-docutils literal">g = g(x) &lt;= 0</tt>, the penalties compute to
<tt class="rst-docutils literal">penalties(x) = self(g(x)) = lam g + mu g^2 / 2</tt> (if g &gt; -lam / mu) for
each element of g, as returned by calling the instance with g as argument.</p>
<p>The penalized "fitness" value <tt class="rst-docutils literal">f + sum(self(g))</tt> shall be minimized.
lam and mu are the Lagrange multipliers or coefficients.</p>
<p>An additional method, <a href="cma.constraints_handler.AugmentedLagrangian.html#set_coefficients"><code>set_coefficients</code></a> allows to initialize the
Lagrange multipliers from data.</p>
<p>A short example (and doctest):</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-keyword">import</span> cma
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-keyword">from</span> cma.constraints_handler <span class="py-keyword">import</span> AugmentedLagrangian, PopulationEvaluator
<span class="py-prompt">&gt;&gt;&gt; </span>m = 2  <span class="py-comment"># number of constraints</span>
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-keyword">def</span> <span class="py-defname">objective</span>(x):
<span class="py-more">... </span>    return <span class="py-builtin">sum</span>(x[m:]**2) + <span class="py-builtin">sum</span>((x[:m] - 1)**2) - m
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-keyword">def</span> <span class="py-defname">constraints</span>(x):
<span class="py-more">... </span>    return x[:m]
<span class="py-prompt">&gt;&gt;&gt; </span>es = cma.CMAEvolutionStrategy(3 * [1], 1, {
<span class="py-more">... </span>         <span class="py-string">'termination_callback'</span>: <span class="py-keyword">lambda</span> es: <span class="py-builtin">sum</span>(es.mean**2) &lt; 1e-8})  <span class="py-comment">#doctest: +ELLIPSIS</span>
<span class="py-output">(3_w,7)-aCMA-ES...</span>
<span class="py-output"></span><span class="py-prompt">&gt;&gt;&gt; </span>al = AugmentedLagrangian(es.N)  <span class="py-comment"># lam and mu still need to be set</span>
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-comment"># al.chi_domega = 1.15  # is the new default, which seems to give better results than the original value</span>
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-comment"># al.lam, al.mu = ...  # we could set the initial Lagrange coefficients here</span>
<span class="py-prompt">&gt;&gt;&gt; </span>while <span class="py-keyword">not</span> es.stop():
<span class="py-more">... </span>    eva = PopulationEvaluator(objective, constraints)(es.ask(), m=es.mean)
<span class="py-more">... </span>    al.set_coefficients(eva.F, eva.G)  <span class="py-comment"># set lam and mu, not part of the original algorithm</span>
<span class="py-more">... </span>    al.update(eva.m[<span class="py-string">'f'</span>], eva.m[<span class="py-string">'g'</span>])
<span class="py-more">... </span>    es.tell(eva.X, [f + <span class="py-builtin">sum</span>(al(g)) <span class="py-keyword">for</span> f, g <span class="py-keyword">in</span> <span class="py-builtin">zip</span>(eva.F, eva.G)])
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-keyword">if</span> es.result.evaluations &gt; 3100:
<span class="py-more">... </span>    <span class="py-keyword">print</span>(<span class="py-string">"evaluations %d !&lt; 3100. 1500 is normal, 2700 happens rarely"</span> % es.result.evaluations)
<span class="py-prompt">&gt;&gt;&gt; </span>assert <span class="py-string">'callback'</span> <span class="py-keyword">in</span> es.stop()
<span class="py-prompt">&gt;&gt;&gt; </span>assert <span class="py-builtin">len</span>(eva.feasibility_ratios) == m
<span class="py-prompt">&gt;&gt;&gt; </span>assert <span class="py-builtin">sum</span>(eva.feasibility_ratios &lt; 0) == <span class="py-builtin">sum</span>(eva.feasibility_ratios &gt; 1) == 0</pre>
<p>Details: the input <a href="cma.constraints_handler.CountLastSameChanges.html#dimension"><code>dimension</code></a> is needed to compute the default change
rate <code>chi_domega</code> (if <tt class="rst-docutils literal">chi_domega is None</tt>), to compute initial
coefficients and to compare between h and g to update mu. The default
dependency of <code>chi_domega</code> on the dimension seems to be however
suboptimal. Setting <tt class="rst-docutils literal">self.chi_domega = 1.15</tt> as is the current
default seems to give better results than the original setting.</p>
<p>More testing based on the simpler <a href="cma.constraints_handler.ConstrainedFitnessAL.html"><code>ConstrainedFitnessAL</code></a> interface:</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-keyword">import</span> cma
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-keyword">for</span> algorithm, evals <span class="py-keyword">in</span> <span class="py-builtin">zip</span>((0, 1, 2, 3), (2000, 2200, 1500, 1800)):
<span class="py-more">... </span>    alf = cma.ConstrainedFitnessAL(cma.ff.sphere, <span class="py-keyword">lambda</span> x: [x[0] + 1], 3,
<span class="py-more">... </span>                                   find_feasible_first=<span class="py-builtin">True</span>)
<span class="py-more">... </span>    _ = alf.al.set_algorithm(algorithm)
<span class="py-more">... </span>    alf.al.logging = <span class="py-builtin">False</span>
<span class="py-more">... </span>    x, es = cma.fmin2(alf, 3 * [1], 0.1, {<span class="py-string">'verbose'</span>:-9, <span class="py-string">'seed'</span>:algorithm},  <span class="py-comment"># verbosity+seed for doctest only</span>
<span class="py-more">... </span>                      callback=alf.update)
<span class="py-more">... </span>    assert <span class="py-builtin">sum</span>((es.mean - [-1, 0, 0])**2) &lt; 1e-9, (algorithm, es.mean)
<span class="py-more">... </span>    assert es.countevals &lt; evals, (algorithm, es.countevals)
<span class="py-more">... </span>    assert alf.best_feas.f &lt; 10, (algorithm, <span class="py-builtin">str</span>(alf.best_feas))
<span class="py-more">... </span>    <span class="py-comment"># print(algorithm, es.countevals, ) #alf.best_feas.__dict__)</span></pre><table class="fieldTable"></table></div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id365">
  
  <tr class="method">
    
    <td>Method</td>
    <td><a href="cma.constraints_handler.AugmentedLagrangian.html#__init__" data-type="Method" class="code">__init__</a></td>
    <td><span>use <code>set_algorithm()</code> and <tt class="rst-docutils literal"><span class="pre">set_...()</span></tt> methods to change defaults</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="cma.constraints_handler.AugmentedLagrangian.html#set_atamna2017" data-type="Method" class="code">set_atamna2017</a></td>
    <td><span>Atamna et al 2017 parameter settings</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="cma.constraints_handler.AugmentedLagrangian.html#set_dufosse2020" data-type="Method" class="code">set_dufosse2020</a></td>
    <td><span>Dufosse &amp; Hansen 2020 parameter settings</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="cma.constraints_handler.AugmentedLagrangian.html#set_algorithm" data-type="Method" class="code">set_algorithm</a></td>
    <td><span>if algorithm not <a href="http://docs.python.org/library/constants.html#None"><code>None</code></a>, set it and return self,</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="cma.constraints_handler.AugmentedLagrangian.html#m" data-type="Method" class="code">m</a></td>
    <td><span>number of constraints, raise <a href="http://docs.python.org/library/exceptions.html#exceptions.TypeError"><code>TypeError</code></a> if not set yet</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="cma.constraints_handler.AugmentedLagrangian.html#is_initialized" data-type="Method" class="code">is_initialized</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="cma.constraints_handler.AugmentedLagrangian.html#count_initialized" data-type="Method" class="code">count_initialized</a></td>
    <td><span>number of constraints with initialized coefficients</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="cma.constraints_handler.AugmentedLagrangian.html#feasibility_ratios" data-type="Method" class="code">feasibility_ratios</a></td>
    <td><span>or bias for equality constraints, versatile interface may change</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="cma.constraints_handler.AugmentedLagrangian.html#set_m" data-type="Method" class="code">set_m</a></td>
    <td><span>initialize attributes which depend on the number of constraints.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="cma.constraints_handler.AugmentedLagrangian.html#set_coefficients" data-type="Method" class="code">set_coefficients</a></td>
    <td><span>compute initial coefficients based on some f- and g-values.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="cma.constraints_handler.AugmentedLagrangian.html#isequality" data-type="Method" class="code">isequality</a></td>
    <td><span>bool array, <a href="http://docs.python.org/library/constants.html#True"><code>True</code></a> if <code>i</code>-th constraint is an equality constraint</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="cma.constraints_handler.AugmentedLagrangian.html#__call__" data-type="Method" class="code">__call__</a></td>
    <td><span>return <a href="http://docs.python.org/library/stdtypes.html#list"><code>list</code></a> of AL penalties for constraints values in <code>g</code>.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="cma.constraints_handler.AugmentedLagrangian.html#muplus2" data-type="Method" class="code">muplus2</a></td>
    <td><span>provisorial function to correct mu plus condition, original is <a href="http://docs.python.org/library/constants.html#True"><code>True</code></a></span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="cma.constraints_handler.AugmentedLagrangian.html#muminus2" data-type="Method" class="code">muminus2</a></td>
    <td><span>provisorial function to correct mu minus condition, original is <a href="http://docs.python.org/library/constants.html#True"><code>True</code></a></span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="cma.constraints_handler.AugmentedLagrangian.html#muplus3" data-type="Method" class="code">muplus3</a></td>
    <td><span>return <a href="http://docs.python.org/library/constants.html#True"><code>True</code></a> if mu should be increased, else <a href="http://docs.python.org/library/constants.html#False"><code>False</code></a></span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="cma.constraints_handler.AugmentedLagrangian.html#muminus3" data-type="Method" class="code">muminus3</a></td>
    <td><span>return <a href="http://docs.python.org/library/constants.html#True"><code>True</code></a> if mu should be reduced, else <a href="http://docs.python.org/library/constants.html#False"><code>False</code></a></span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="cma.constraints_handler.AugmentedLagrangian.html#muplus4" data-type="Method" class="code">muplus4</a></td>
    <td><span>return <a href="http://docs.python.org/library/constants.html#True"><code>True</code></a> if mu should be increased, else <a href="http://docs.python.org/library/constants.html#False"><code>False</code></a></span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="cma.constraints_handler.AugmentedLagrangian.html#muminus4" data-type="Method" class="code">muminus4</a></td>
    <td><span>return <a href="http://docs.python.org/library/constants.html#True"><code>True</code></a> if mu should be reduced, else <a href="http://docs.python.org/library/constants.html#False"><code>False</code></a></span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="cma.constraints_handler.AugmentedLagrangian.html#update" data-type="Method" class="code">update</a></td>
    <td><span>f is a scalar, g is a vector.</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><a href="cma.constraints_handler.AugmentedLagrangian.html#_set_parameters" data-type="Method" class="code">_set_parameters</a></td>
    <td><span>set parameters based on the value of <code>self.algorithm</code></span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><a href="cma.constraints_handler.AugmentedLagrangian.html#_init_" data-type="Method" class="code">_init_</a></td>
    <td><span>allow to reset the logger with a single call</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><a href="cma.constraints_handler.AugmentedLagrangian.html#_check_dtypes" data-type="Method" class="code">_check_dtypes</a></td>
    <td><span>in case the user set the attributes</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basemethod">
  
  <a name="cma.constraints_handler.AugmentedLagrangian.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    def
    __init__(self, dimension, equality=False):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>use <code>set_algorithm()</code> and <tt class="rst-docutils literal"><span class="pre">set_...()</span></tt> methods to change defaults<table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="cma.constraints_handler.AugmentedLagrangian.set_atamna2017">
    
  </a>
  <a name="set_atamna2017">
    
  </a>
  <div class="functionHeader">
    
    def
    set_atamna2017(self):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>Atamna et al 2017 parameter settings<table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="cma.constraints_handler.AugmentedLagrangian.set_dufosse2020">
    
  </a>
  <a name="set_dufosse2020">
    
  </a>
  <div class="functionHeader">
    
    def
    set_dufosse2020(self):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>Dufosse &amp; Hansen 2020 parameter settings<table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod private">
  
  <a name="cma.constraints_handler.AugmentedLagrangian._set_parameters">
    
  </a>
  <a name="_set_parameters">
    
  </a>
  <div class="functionHeader">
    
    def
    _set_parameters(self):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>set parameters based on the value of <code>self.algorithm</code><table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="cma.constraints_handler.AugmentedLagrangian.set_algorithm">
    
  </a>
  <a name="set_algorithm">
    
  </a>
  <div class="functionHeader">
    
    def
    set_algorithm(self, algorithm=None):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>if algorithm not <a href="http://docs.python.org/library/constants.html#None"><code>None</code></a>, set it and return self,</p>
<p>otherwise return current algorithm value which should be an integer.</p>
<p>Values &lt; 1 are the (new) default, 1 == Atamna et al 2017, 2 == modified 1.</p><table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod private">
  
  <a name="cma.constraints_handler.AugmentedLagrangian._init_">
    
  </a>
  <a name="_init_">
    
  </a>
  <div class="functionHeader">
    
    def
    _init_(self):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>allow to reset the logger with a single call<table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="cma.constraints_handler.AugmentedLagrangian.m">
    
  </a>
  <a name="m">
    
  </a>
  <div class="functionHeader">
    @property<br />
    def
    m(self):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>number of constraints, raise <a href="http://docs.python.org/library/exceptions.html#exceptions.TypeError"><code>TypeError</code></a> if not set yet<table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="cma.constraints_handler.AugmentedLagrangian.is_initialized">
    
  </a>
  <a name="is_initialized">
    
  </a>
  <div class="functionHeader">
    @property<br />
    def
    is_initialized(self):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="basemethod">
  
  <a name="cma.constraints_handler.AugmentedLagrangian.count_initialized">
    
  </a>
  <a name="count_initialized">
    
  </a>
  <div class="functionHeader">
    @property<br />
    def
    count_initialized(self):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>number of constraints with initialized coefficients<table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="cma.constraints_handler.AugmentedLagrangian.feasibility_ratios">
    
  </a>
  <a name="feasibility_ratios">
    
  </a>
  <div class="functionHeader">
    @property<br />
    def
    feasibility_ratios(self):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>or bias for equality constraints, versatile interface may change<table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="cma.constraints_handler.AugmentedLagrangian.set_m">
    
  </a>
  <a name="set_m">
    
  </a>
  <div class="functionHeader">
    
    def
    set_m(self, m):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>initialize attributes which depend on the number of constraints.</p>
<p>This requires the <code>lam</code> attribute to be <a href="http://docs.python.org/library/constants.html#None"><code>None</code></a> and deletes all
previously set or adapted <code>mu</code> coefficients.</p><table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod private">
  
  <a name="cma.constraints_handler.AugmentedLagrangian._check_dtypes">
    
  </a>
  <a name="_check_dtypes">
    
  </a>
  <div class="functionHeader">
    
    def
    _check_dtypes(self):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>in case the user set the attributes<table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="cma.constraints_handler.AugmentedLagrangian.set_coefficients">
    
  </a>
  <a name="set_coefficients">
    
  </a>
  <div class="functionHeader">
    
    def
    set_coefficients(self, F, G):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>compute initial coefficients based on some f- and g-values.</p>
<p>The formulas to set the coefficients:</p>
<pre class="rst-literal-block">
lam = iqr(f) / (sqrt(n) * iqr(g))
mu = 2 * iqr(f) / (5 * n * (iqr(g) + iqr(g**2)))
</pre>
<p>are taken out of thin air and not thoroughly tested. They are
additionally protected against division by zero.</p>
<p>Each row of <code>G</code> represents the constraints of one sample measure.</p>
<p>Set lam and mu until a population contains more than 10% infeasible
and more than 10% feasible at the same time. Afterwards, this at least...?...</p><table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="cma.constraints_handler.AugmentedLagrangian.isequality">
    
  </a>
  <a name="isequality">
    
  </a>
  <div class="functionHeader">
    @property<br />
    def
    isequality(self):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>bool array, <a href="http://docs.python.org/library/constants.html#True"><code>True</code></a> if <code>i</code>-th constraint is an equality constraint<table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="cma.constraints_handler.AugmentedLagrangian.__call__">
    
  </a>
  <a name="__call__">
    
  </a>
  <div class="functionHeader">
    
    def
    __call__(self, g):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>return <a href="http://docs.python.org/library/stdtypes.html#list"><code>list</code></a> of AL penalties for constraints values in <code>g</code>.</p>
<p>Penalties are zero in the optimum and can be negative down to
<tt class="rst-docutils literal"><span class="pre">-lam**2</span> / mu / 2</tt>.</p><table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="cma.constraints_handler.AugmentedLagrangian.muplus2">
    
  </a>
  <a name="muplus2">
    
  </a>
  <div class="functionHeader">
    
    def
    muplus2(self, g, i, threshold=0.4):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>provisorial function to correct mu plus condition, original is <a href="http://docs.python.org/library/constants.html#True"><code>True</code></a><table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="cma.constraints_handler.AugmentedLagrangian.muminus2">
    
  </a>
  <a name="muminus2">
    
  </a>
  <div class="functionHeader">
    
    def
    muminus2(self, g, i, threshold=0.05):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>provisorial function to correct mu minus condition, original is <a href="http://docs.python.org/library/constants.html#True"><code>True</code></a><table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="cma.constraints_handler.AugmentedLagrangian.muplus3">
    
  </a>
  <a name="muplus3">
    
  </a>
  <div class="functionHeader">
    
    def
    muplus3(self, g, i, threshold=0.95):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>return <a href="http://docs.python.org/library/constants.html#True"><code>True</code></a> if mu should be increased, else <a href="http://docs.python.org/library/constants.html#False"><code>False</code></a><table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="cma.constraints_handler.AugmentedLagrangian.muminus3">
    
  </a>
  <a name="muminus3">
    
  </a>
  <div class="functionHeader">
    
    def
    muminus3(self, g, i, threshold=0.9):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>return <a href="http://docs.python.org/library/constants.html#True"><code>True</code></a> if mu should be reduced, else <a href="http://docs.python.org/library/constants.html#False"><code>False</code></a><table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="cma.constraints_handler.AugmentedLagrangian.muplus4">
    
  </a>
  <a name="muplus4">
    
  </a>
  <div class="functionHeader">
    
    def
    muplus4(self, g, i, threshold=0.95):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>return <a href="http://docs.python.org/library/constants.html#True"><code>True</code></a> if mu should be increased, else <a href="http://docs.python.org/library/constants.html#False"><code>False</code></a><table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="cma.constraints_handler.AugmentedLagrangian.muminus4">
    
  </a>
  <a name="muminus4">
    
  </a>
  <div class="functionHeader">
    
    def
    muminus4(self, g, i, threshold=0.9):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>return <a href="http://docs.python.org/library/constants.html#True"><code>True</code></a> if mu should be reduced, else <a href="http://docs.python.org/library/constants.html#False"><code>False</code></a><table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="cma.constraints_handler.AugmentedLagrangian.update">
    
  </a>
  <a name="update">
    
  </a>
  <div class="functionHeader">
    
    def
    update(self, f, g):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>f is a scalar, g is a vector.</p>
<p>Update Lagrange multipliers based on Atamna et al 2017. f and g are
supposed to have been computed from the distribution mean.</p>
<p>Details: do nothing if Lagrange coefficients <code>lam</code> were not yet set.</p><table class="fieldTable"></table></div>
  </div>
</div>

      </div>
      <address>
        <a href="index.html">API Documentation</a> for cma, generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a> at 2022-02-27 12:54:30.
      </address>

    </div>

    <script type="text/javascript" src="pydoctor.js"></script>

  </body>
</html>